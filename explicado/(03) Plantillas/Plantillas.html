<!DOCTYPE html>
<!-- saved from url=(0048)http://es.discovermeteor.com/chapters/templates/ -->
<html class="no-js wf-klavikaweb-n3-active wf-klavikaweb-n6-active wf-sourcesanspro-n4-active wf-sourcesanspro-n7-active wf-sourcesanspro-i7-active wf-sourcesanspro-i4-active wf-sourcesanspro-n3-active wf-sourcesanspro-i3-active wf-sourcecodepro-n7-active wf-sourcecodepro-n4-active wf-active" lang="es"><!-- <![endif] --><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <!-- Set the viewport width to device width for mobile -->
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>Plantillas - Descubriendo Meteor</title>
    <!-- Included CSS Files -->
    <link href="./Plantillas_files/screen.css" rel="stylesheet">
    <link href="./Plantillas_files/print.css" media="print" rel="stylesheet">
    <!-- %link{:href => "http://fonts.googleapis.com/css?family=Source+Sans+Pro:200,400,700,400italic", :rel => "stylesheet"} -->
    <!-- %link{:href => "http://fonts.googleapis.com/css?family=Source+Code+Pro:400,700", :rel => "stylesheet"} -->
    <link href="http://es.discovermeteor.com/images/favicon.ico" rel="shortcut icon">
    <script async="" src="./Plantillas_files/analytics.js.descarga"></script><script src="./Plantillas_files/jquery.min.js.descarga"></script><style type="text/css">
:root .adsbox
{ display: none !important; }</style>
    <script src="./Plantillas_files/rcr2ohz.js.descarga"></script>
    <style type="text/css">.tk-klavika-web{font-family:"klavika-web",sans-serif;}.tk-source-sans-pro{font-family:"source-sans-pro",sans-serif;}.tk-source-code-pro{font-family:"source-code-pro",sans-serif;}</style><style type="text/css">@font-face{font-family:klavika-web;src:url(https://use.typekit.net/af/5401fe/00000000000000003b9acdf2/27/l?subset_id=2&fvd=n3&v=3) format("woff2"),url(https://use.typekit.net/af/5401fe/00000000000000003b9acdf2/27/d?subset_id=2&fvd=n3&v=3) format("woff"),url(https://use.typekit.net/af/5401fe/00000000000000003b9acdf2/27/a?subset_id=2&fvd=n3&v=3) format("opentype");font-weight:300;font-style:normal;}@font-face{font-family:klavika-web;src:url(https://use.typekit.net/af/835e90/00000000000000003b9acdf6/27/l?subset_id=2&fvd=n6&v=3) format("woff2"),url(https://use.typekit.net/af/835e90/00000000000000003b9acdf6/27/d?subset_id=2&fvd=n6&v=3) format("woff"),url(https://use.typekit.net/af/835e90/00000000000000003b9acdf6/27/a?subset_id=2&fvd=n6&v=3) format("opentype");font-weight:600;font-style:normal;}@font-face{font-family:source-sans-pro;src:url(https://use.typekit.net/af/b0088d/00000000000000003b9acb59/27/l?subset_id=2&fvd=n4&v=3) format("woff2"),url(https://use.typekit.net/af/b0088d/00000000000000003b9acb59/27/d?subset_id=2&fvd=n4&v=3) format("woff"),url(https://use.typekit.net/af/b0088d/00000000000000003b9acb59/27/a?subset_id=2&fvd=n4&v=3) format("opentype");font-weight:400;font-style:normal;}@font-face{font-family:source-sans-pro;src:url(https://use.typekit.net/af/c55ca5/00000000000000003b9acb5c/27/l?subset_id=2&fvd=n7&v=3) format("woff2"),url(https://use.typekit.net/af/c55ca5/00000000000000003b9acb5c/27/d?subset_id=2&fvd=n7&v=3) format("woff"),url(https://use.typekit.net/af/c55ca5/00000000000000003b9acb5c/27/a?subset_id=2&fvd=n7&v=3) format("opentype");font-weight:700;font-style:normal;}@font-face{font-family:source-sans-pro;src:url(https://use.typekit.net/af/7e0c18/00000000000000003b9acb5d/27/l?subset_id=2&fvd=i7&v=3) format("woff2"),url(https://use.typekit.net/af/7e0c18/00000000000000003b9acb5d/27/d?subset_id=2&fvd=i7&v=3) format("woff"),url(https://use.typekit.net/af/7e0c18/00000000000000003b9acb5d/27/a?subset_id=2&fvd=i7&v=3) format("opentype");font-weight:700;font-style:italic;}@font-face{font-family:source-sans-pro;src:url(https://use.typekit.net/af/c42064/00000000000000003b9acb58/27/l?subset_id=2&fvd=i4&v=3) format("woff2"),url(https://use.typekit.net/af/c42064/00000000000000003b9acb58/27/d?subset_id=2&fvd=i4&v=3) format("woff"),url(https://use.typekit.net/af/c42064/00000000000000003b9acb58/27/a?subset_id=2&fvd=i4&v=3) format("opentype");font-weight:400;font-style:italic;}@font-face{font-family:source-sans-pro;src:url(https://use.typekit.net/af/b35fa2/00000000000000003b9acb56/27/l?subset_id=2&fvd=n3&v=3) format("woff2"),url(https://use.typekit.net/af/b35fa2/00000000000000003b9acb56/27/d?subset_id=2&fvd=n3&v=3) format("woff"),url(https://use.typekit.net/af/b35fa2/00000000000000003b9acb56/27/a?subset_id=2&fvd=n3&v=3) format("opentype");font-weight:300;font-style:normal;}@font-face{font-family:source-sans-pro;src:url(https://use.typekit.net/af/a6c785/00000000000000003b9acb57/27/l?subset_id=2&fvd=i3&v=3) format("woff2"),url(https://use.typekit.net/af/a6c785/00000000000000003b9acb57/27/d?subset_id=2&fvd=i3&v=3) format("woff"),url(https://use.typekit.net/af/a6c785/00000000000000003b9acb57/27/a?subset_id=2&fvd=i3&v=3) format("opentype");font-weight:300;font-style:italic;}@font-face{font-family:source-code-pro;src:url(https://use.typekit.net/af/b8b49b/0000000000000000000179d5/27/l?subset_id=2&fvd=n7&v=3) format("woff2"),url(https://use.typekit.net/af/b8b49b/0000000000000000000179d5/27/d?subset_id=2&fvd=n7&v=3) format("woff"),url(https://use.typekit.net/af/b8b49b/0000000000000000000179d5/27/a?subset_id=2&fvd=n7&v=3) format("opentype");font-weight:700;font-style:normal;}@font-face{font-family:source-code-pro;src:url(https://use.typekit.net/af/953e9e/0000000000000000000179cf/27/l?subset_id=2&fvd=n4&v=3) format("woff2"),url(https://use.typekit.net/af/953e9e/0000000000000000000179cf/27/d?subset_id=2&fvd=n4&v=3) format("woff"),url(https://use.typekit.net/af/953e9e/0000000000000000000179cf/27/a?subset_id=2&fvd=n4&v=3) format("opentype");font-weight:400;font-style:normal;}</style><script>
      try{Typekit.load();}catch(e){}
    </script>
  <script type="text/javascript" async="" src="./Plantillas_files/embed.js.descarga"></script><script async="" type="text/javascript" src="./Plantillas_files/count.js.descarga"></script><style type="text/css">
:root *[dpw76xs][hidden] { display: none !important; }</style><script src="./Plantillas_files/count-data.js.descarga"></script><link rel="preload" as="style" href="https://c.disquscdn.com/next/embed/styles/lounge.2d848eddee1b8c12749b72a04b2b33dc.css"><link rel="preload" as="script" href="https://c.disquscdn.com/next/embed/common.bundle.845ead53749f15d0bd8a5ee344c8f06e.js"><link rel="preload" as="script" href="https://c.disquscdn.com/next/embed/lounge.bundle.8241ae5fc761eb94635acdc63f5fd29f.js"><link rel="preload" as="script" href="https://disqus.com/next/config.js"><script src="./Plantillas_files/alfie.f51946af45e0b561c60f768335c9eb79.js.descarga" async="" charset="UTF-8"></script></head>
  <body style="zoom: 1;" cz-shortcut-listen="true">
    <header>
      <h1>
        <a href="http://es.discovermeteor.com/">
          <span>Descubriendo</span>
          <strong>Meteor</strong>
        </a>
      </h1>
    </header>
    <div class="main">
      <div class="row">
        <div class="toc sidebar">
          <a class="sidebar-toggle" href="javascript:void(0)">Toggle Table of Contents</a>
          <div class="sidebar-inner">
            <ul>
              <li>
                <span class="number">
                  1
                </span>
                <a href="http://es.discovermeteor.com/chapters/introduction/">
                  Introducción
                </a>
              </li>
              <li>
                <span class="number">
                  2
                </span>
                <a href="http://es.discovermeteor.com/chapters/getting-started/">
                  Empezando
                </a>
              </li>
              <li class="sidebar-chapter">
                <span class="number">
                  2.5
                </span>
                <a href="http://es.discovermeteor.com/chapters/deploying/">
                  Despliegue
                </a>
              </li>
              <li class="active">
                <span class="number">
                  3
                </span>
                <a href="http://es.discovermeteor.com/chapters/templates/">
                  Plantillas
                </a>
              </li>
              <li class="sidebar-chapter">
                <span class="number">
                  3.5
                </span>
                <a href="http://es.discovermeteor.com/chapters/github/">
                  Usando Git y GitHub
                </a>
              </li>
              <li>
                <span class="number">
                  4
                </span>
                <a href="http://es.discovermeteor.com/chapters/collections/">
                  Colecciones
                </a>
              </li>
              <li class="sidebar-chapter">
                <span class="number">
                  4.5
                </span>
                <a href="http://es.discovermeteor.com/chapters/publications-and-subscriptions/">
                  Publicaciones y suscripciones
                </a>
              </li>
              <li>
                <span class="number">
                  5
                </span>
                <a href="http://es.discovermeteor.com/chapters/routing/">
                  Enrutando
                </a>
              </li>
              <li class="sidebar-chapter">
                <span class="number">
                  5.5
                </span>
                <a href="http://es.discovermeteor.com/chapters/the-session/">
                  La sesión
                </a>
              </li>
              <li>
                <span class="number">
                  6
                </span>
                <a href="http://es.discovermeteor.com/chapters/adding-users/">
                  Añadiendo usuarios
                </a>
              </li>
              <li class="sidebar-chapter">
                <span class="number">
                  6.5
                </span>
                <a href="http://es.discovermeteor.com/chapters/reactivity/">
                  Reactividad
                </a>
              </li>
              <li>
                <span class="number">
                  7
                </span>
                <a href="http://es.discovermeteor.com/chapters/creating-posts/">
                  Creando posts
                </a>
              </li>
              <li class="sidebar-chapter">
                <span class="number">
                  7.5
                </span>
                <a href="http://es.discovermeteor.com/chapters/latency-compensation/">
                  Compensación de la latencia
                </a>
              </li>
              <li>
                <span class="number">
                  8
                </span>
                <a href="http://es.discovermeteor.com/chapters/editing-posts/">
                  Editando posts
                </a>
              </li>
              <li class="sidebar-chapter">
                <span class="number">
                  8.5
                </span>
                <a href="http://es.discovermeteor.com/chapters/allow-and-deny/">
                  Permitir y Denegar
                </a>
              </li>
              <li>
                <span class="number">
                  9
                </span>
                <a href="http://es.discovermeteor.com/chapters/errors/">
                  Errores
                </a>
              </li>
              <li class="sidebar-chapter">
                <span class="number">
                  9.5
                </span>
                <a href="http://es.discovermeteor.com/chapters/creating-a-meteor-package/">
                  Creando un paquete Meteor
                </a>
              </li>
              <li>
                <span class="number">
                  10
                </span>
                <a href="http://es.discovermeteor.com/chapters/comments/">
                  Comentarios
                </a>
              </li>
              <li class="sidebar-chapter">
                <span class="number">
                  10.5
                </span>
                <a href="http://es.discovermeteor.com/chapters/denormalization/">
                  Denormalización
                </a>
              </li>
              <li>
                <span class="number">
                  11
                </span>
                <a href="http://es.discovermeteor.com/chapters/notifications/">
                  Notificaciones
                </a>
              </li>
              <li class="sidebar-chapter">
                <span class="number">
                  11.5
                </span>
                <a href="http://es.discovermeteor.com/chapters/advanced-reactivity/">
                  Reactividad avanzada
                </a>
              </li>
              <li>
                <span class="number">
                  12
                </span>
                <a href="http://es.discovermeteor.com/chapters/pagination/">
                  Paginación
                </a>
              </li>
              <li>
                <span class="number">
                  13
                </span>
                <a href="http://es.discovermeteor.com/chapters/voting/">
                  Votos
                </a>
              </li>
              <li class="sidebar-chapter">
                <span class="number">
                  13.5
                </span>
                <a href="http://es.discovermeteor.com/chapters/advanced-publications/">
                  Publicaciones avanzadas
                </a>
              </li>
              <li>
                <span class="number">
                  14
                </span>
                <a href="http://es.discovermeteor.com/chapters/animations/">
                  Animaciones
                </a>
              </li>
              <li>
                <span class="number">
                  14.5
                </span>
                <a href="http://es.discovermeteor.com/chapters/going-further/">
                  Ir más lejos
                </a>
              </li>
              <li>
                <span class="number">
                  14.5
                </span>
                <a href="http://es.discovermeteor.com/chapters/meteor-vocabulary/">
                  Vocabulario
                </a>
              </li>
              <li>
                <span class="number">
                  99
                </span>
                <a href="http://es.discovermeteor.com/chapters/changelog/">
                  Changelog
                </a>
              </li>
            </ul>
          </div>
        </div>
        <div class="vocabulary sidebar">
          <a class="sidebar-toggle" href="http://es.discovermeteor.com/chapters/templates/#">Toggle Vocabulary</a>
          <div class="sidebar-inner">
            <div class="sidebar-content">
              <h3 id="men-v">Vocabulary</h3>
              <h4>Cliente</h4>
              
              <p style="display: none;">Cuando hablamos del Cliente, nos referimos al código que se ejecuta en el navegador de los usuarios, ya sea uno tradicional, como Firefox o Safari, o algo tan complejo como un UIWebView en una aplicación nativa para el iPhone.</p>
              
              <h4>Colección</h4>
              
              <p style="display: none;">Una colección es el almacén de datos que se sincroniza automáticamente entre el cliente y el servidor. Las colecciones tienen un nombre (como <code>posts</code>), y por lo general existen tanto en el cliente como en el servidor. Si bien se comportan de forma distinta, tienen una API común basada en la API de Mongo.</p>
              
              <h4>Computación</h4>
              
              <p style="display: none;">Una computación es un bloque de código que se ejecuta cada vez que cambia una de las fuentes de datos reactivos de las que depende. Si tienes una fuente reactiva (por ejemplo, una variable de sesión) y quieres responder reactivamente a ella, tendrás que crear una computación.</p>
              
              <h4>Cursor</h4>
              
              <p style="display: none;">Un cursor es el resultado de ejecutar una consulta en una colección Mongo. En el lado del cliente, un cursor no es tan sólo un conjunto de resultados, sino que es un objeto <em>reactivo</em> desde el que se puede observar (con <code>observe()</code>) los cambios (añadir, eliminar o actualizar) en la colección correspondiente.</p>
              
              <h4>DDP</h4>
              
              <p style="display: none;">El DDP es el Protocolo de Datos Distribuidos que utiliza Meteor para sincronizar colecciones y efectuar llamadas a métodos. DDP pretende ser un protocolo genérico, que toma el relevo a HTTP para aplicaciones en tiempo real con gran carga de datos.</p>
              
              <h4>Deps</h4>
              
              <p style="display: none;">Deps es el sistema reactivo de Meteor. Deps se utiliza entre bastidores para sincronizar automáticamente el  HTML con el modelo de datos subyacente.</p>
              
              <h4>Documento</h4>
              
              <p style="display: none;">Mongo es un almacén de datos basado en documentos y a los objetos que salen de las colecciones se les llama “documentos”. Son objetos JavaScript sin formato (aunque no pueden contener funciones) con una única propiedad especial, el ’_id’, que Meteor utiliza para realizar un seguimiento de sus propiedades en el DDP.</p>
              
              <h4>Ayudantes</h4>
              
              <p style="display: none;">Cuando una plantilla necesita mostrar cosas más complejas que una simple propiedad de un documento, ésta puede hacer uso de su ayudante, una función que se utiliza para procesar los datos que se muestran en ella.</p>
              
              <h4>Compensación de la latencia</h4>
              
              <p style="display: none;">Es una técnica que permite simular llamadas a métodos en el cliente para evitar retrasos mientras se espera la respuesta del servidor.</p>
              
              <h4>Meteor Development Group (MDG)</h4>
              
              <p style="display: none;">La empresa que desarrolla Meteor.</p>
              
              <h4>Método</h4>
              
              <p style="display: none;">Un método en Meteor es una llamada desde el cliente, a un procedimiento remoto en el servidor, con un poco de lógica añadida que permite realizar un seguimiento de los cambios en los datos además de compensar la latencia de la llamada.</p>
              
              <h4>MiniMongo</h4>
              
              <p style="display: none;">La colección del lado del cliente es un almacén de datos en memoria que ofrece una API tipo Mongo. La librería que se utiliza se llama “MiniMongo”, para indicar que es una versión más pequeña de Mongo que se ejecuta por completo en la memoria del navegador.</p>
              
              <h4>Paquete</h4>
              
              <p style="display: none;">Un paquete Meteor puede ser: código JavaScript que se ejecuta en el servidor, código JavaScript que se ejecuta en el cliente, instrucciones para procesar recursos (como SASS a CSS), o recursos que deben ser  procesados​​. <br> Un paquete es como una librería con superpoderes. Meteor incluye una gran cantidad de paquetes (<code>meteor list</code>). También existe <a href="http://atmosphere.meteor.com/">Atmosphere</a>, que es una colección de paquetes de terceros mantenida por la comunidad (<code>mrt add ...</code>).</p>
              
              <h4>Publicación</h4>
              
              <p style="display: none;">Una publicación es un conjunto de datos con nombre que se personaliza para cada usuario que se suscribe a ella. Se configuran en el servidor.</p>
              
              <h4>Servidor</h4>
              
              <p style="display: none;">El servidor Meteor es un servidor HTTP y DDP ejecutados vía Node.js. Se compone de todas las librerías y del código JavaScript del lado del servidor. Cuando se inicia el servidor, se conecta a una base de datos Mongo (que configura por si mismo en el primer arranque).</p>
              
              <h4>Sesión</h4>
              
              <p style="display: none;">La sesión en Meteor es una fuente de datos reactiva que usa tu aplicación para hacer un seguimiento del estado del usuario.</p>
              
              <h4>Suscripción</h4>
              
              <p style="display: none;">Una suscripción es una conexión a una publicación desde un cliente específico. La suscripción es el código que ejecuta el navegador y que utiliza para comunicarse con una publicación del servidor y que, además, mantiene los datos sincronizados.</p>
              
              <h4>Plantilla</h4>
              
              <p style="display: none;">Una plantilla es una forma de generar código HTML desde JavaScript. Por defecto, Meteor sólo soporta el sistema Spacebars, pero hay planes para incluir más.</p>
              
              <h4>Contexto de datos de una plantilla</h4>
              
              <p style="display: none;">Cuando se muestra un plantilla, lo que se representa es un objeto JavaScript que proporciona datos específicos para esta representación en particular. Por lo general, este tipo de objetos son, de tipo POJO (plain-old-JavaScript-objects), a menudo son documentos de una colección, aunque pueden ser más complejos e incluir funciones.</p>
            </div>
          </div>
        </div>
        <div class="post">
          <div class="top-nav">
            <div class="post-nav">
              <a class="prev" href="http://es.discovermeteor.com/chapters/deploying/" title="Previous Post: Despliegue">
                «
                Despliegue
              </a>
              <a class="next" href="http://es.discovermeteor.com/chapters/github/" title="next Post: Usando Git y GitHub">
                Usando Git y GitHub
                »
              </a>
            </div>
          </div>
          <div class="post-content">
            <div class="chapter-heading">
              <h2 class="chapter-title">Plantillas</h2>
              <span class="chapter-number">3</span>
            </div>
            <input id="paragraphs" type="hidden" value="46">
            <div class="chapter-summary note chapter">
				<a href="#men" style="position:fixed;bottom:0px;left:0px;margin:2px;padding:2px 7px;background-color:rgba(64, 64, 64, 0.2);border-radius:50%;box-shadow:0px 0px 5px rgba(0, 0, 0, 0.4);">▲</a>
              <h3 id="men">En este capítulo:</h3>
              <ul>
				  <li><a href="#men-lpem">Las plantillas en Meteor.</a></li>
				  <li><a href="#men-adp">Ayudantes de plantillas.</a></li>
				  <li><a href="#men-ead">El ayudante <code>dominio</code>.</a></li>
			  </ul>
            </div>
			
			<p>Para introducirnos de manera sencilla en el desarrollo con Meteor, adoptaremos un enfoque de afuera hacia adentro, es decir, primero construiremos el envoltorio exterior y luego lo conectaremos al funcionamiento interno de la aplicación.</p>
			
			<p>Esto implica que, en este capítulo, solo utilizaremos el directorio <code>/client</code>.</p>
			
			<p>Si todavía no lo has hecho, crea un nuevo archivo <code>main.html</code> dentro del directorio <code>/client</code>, con el siguiente código:</p>
			
			<pre><span class="line nt">&lt;head&gt;</span><span class="line">  <span class="nt">&lt;title&gt;</span>Microscopio<span class="nt">&lt;/title&gt;</span></span><span class="line nt">&lt;/head&gt;</span><span class="line nt">&lt;body&gt;</span><span class="line">  <span class="nt">&lt;div</span> <span class="na">class</span>=<span class="s1">"container"</span><span class="nt">&gt;</span></span><span class="line">    <span class="nt">&lt;header</span> <span class="na">class</span>=<span class="s1">"navbar navbar-default"</span> <span class="na">role</span>=<span class="s1">"navigation"</span><span class="nt">></span></span><span class="line">      <span class="nt">&lt;div</span> <span class="na">class</span>=<span class="s1">"navbar-header"</span><span class="na">&gt;</span></span><span class="line">        <span class="nt">&lt;a</span> <span class="na">class</span>=<span class="s1">"navbar-brand"</span> <span class="na">href</span>=<span class="s1">"/"</span><span class="na">&gt;</span>Microscopio<span class="nt">&lt;/a&gt;</span></span><span class="line nt">      &lt;/div&gt;</span><span class="line nt">    &lt;/header&gt;</span><span class="line">    <span class="nt">&lt;div</span> <span class="na">id</span>=<span class="s1">"main"</span><span class="nt">&gt;</span></span><span class="line">      {{&gt; publicacionesLista}}</span><span class="line nt">    &lt;/div&gt;</span><span class="line nt">  &lt;/div&gt;</span><span class="line nt">&lt;/body&gt;</span></pre>
            <div class="caption">/client/main.html</div>
			
			<p>Esta será la plantilla principal de la aplicación. Como se puede ver, todo es HTML excepto la etiqueta <code>{{> publicacionesLista}}</code>, que es un punto de inserción de la plantilla <code>publicacionesLista</code>. Ahora, vamos a crear un par de plantillas más.</p>
            
			<h3 id="men-lpem">Las plantillas en Meteor</h3>
			
			<p>La aplicación que estamos construyendo va a ser una red social de noticias que estará compuesta de mensajes (en adelante, publicaciones) organizadas en listas, y así es como organizaremos nuestras plantillas.</p>
			
			<p>Vamos a crear el directorio <code>/plantillas</code> dentro de <code>/client</code>. Aquí pondremos todas nuestras plantillas, pero además, para mantener las cosas ordenadas creamos el directorio <code>/publicaciones</code> dentro de <code>/plantillas</code> para las plantillas relacionadas con las publicaciones.</p>
			
			<div class="note">
				<h3>¿Cómo encuentra nuestros archivos Meteor?</h3>
				
				<p>Meteor es bueno encontrando archivos. No importa en qué lugar pongamos el código dentro de <code>/client</code>, Meteor lo encontrará y lo compilará correctamente. Esto significa que no hay que escribir manualmente rutas para los archivos CSS o JavaScript.</p>
				
				<p>También significa que se podrían poner todos los archivos en el mismo directorio, o incluso todo el código en el mismo archivo. Pero como, de todas formas, Meteor lo va a compilar todo en un solo archivo minimizado, preferimos mantener las cosas bien organizadas y utilizar una estructura de archivos lo más limpia posible.</p>
			</div>
			
			<p>Ya estamos listos para nuestra segunda plantilla. Dentro de <code>/client/plantillas/publicaciones</code>, crea el fichero <code>publicaciones_lista.html</code>:</p>
            
            <pre><span class="line"><span class="nt">&lt;template</span> <span class="na">name</span>=<span class="s1">"publicacionesLista"</span><span class="nt">&gt;</span></span><span class="line">  <span class="nt">&lt;div</span> <span class="na">class</span>=<span class="s1">"publicaciones page"</span><span class="nt">&gt;</span></span><span class="line">    {{#each publicaciones}}</span><span class="line">      {{> publicacionesObjeto}}</span><span class="line">    {{/each}}</span><span class="line nt">  &lt;/div&gt;</span><span class="line nt">&lt;/template&gt;</span></pre>
            <div class="caption">/client/plantillas/publicaciones/publicaciones_lista.html</div>
            
            <p>Y <code>publicaciones_objeto.html</code>:</p>
            
			<pre><span class="line"><span class="nt">&lt;template</span> <span class="na">name</span>=<span class="s1">"publicacionesObjeto"</span><span class="nt">&gt;</span></span><span class="line">  <span class="nt">&lt;div</span> <span class="na">class</span>=<span class="s1">"publicacion"</span><span class="nt">&gt;</span></span><span class="line">    <span class="nt">&lt;div</span> <span class="na">class</span>=<span class="s1">"publicacion-contenido"</span><span class="nt">&gt;</span></span><span class="line">      <span class="nt">&lt;h3&gt;&lt;a</span> <span class="na">href</span>=<span class="s1">"{{url}}"</span><span class="nt">&gt;</span>{{titulo}}<span class="nt">&lt;/a&gt;&lt;span&gt;</span>{{dominio}}<span class="nt">&lt;/span&gt;&lt;/h3&gt;</span></span><span class="line nt">    &lt;/div&gt;</span><span class="line nt">  &lt;/div&gt;</span><span class="line nt">&lt;/template&gt;</span></pre>
            <div class="caption">/client/plantillas/publicaciones/publicaciones_objeto.html</div>
			
			<p>Fíjate en el atributo <code><span class="na">name</span>=<span class="s1">"publicacionesLista"</span></code> del elemento template. Este será el nombre que Meteor usará para saber donde va cada plantilla (fíjate que el nombre del <b>fichero</b> no es importante).</p>
			
			<p>Es el momento de introducir <em class="kd">Spacebars</em> el sistema de plantillas de Meteor. Spacebars es simplemente HTML mas tres cosas: <b>inclusiones</b> (también llamadas <em>partials</em> o <b>plantillas parciales</b>), expresiones (<b>expressions</b>) y bloques de ayuda (<b>block helpers</b>).</p>
			
			<p>Las <b>inclusiones</b> usan la sintaxis <code>{{> nombrePlantilla}}</code> y simplemente le dicen a Meteor que reemplace la inclusión por la plantilla del mismo nombre (en nuestro caso <code>publicacionesObjeto</code>).</p>
			
			<p>Las <b>expresiones</b> como <code>{{titulo}}</code> pueden, o bien llamar a una propiedad del objeto actual o bien, al valor de retorno de un ayudante (<b>helper</b>) como el que definiremos más adelante en nuestro gestor de plantilla.</p>
			
			<p>Los <b>bloques de ayuda</b> son tags especiales para mantener el control del flujo de la plantilla, por ejemplo <code>{{#each}}…{{/each}}</code> o <code>{{#if}}…{{/if}}</code>.</p>
			
			<div class="note">
				<h3>Ir más lejos</h3>
				
				<p>Si quieres saber más sobre Spacebars puedes consultar la <a href="https://github.com/meteor/meteor/blob/devel/packages/spacebars/README.md">documentación oficial</a>.</p>
			</div>
			
			<p>Con estos conocimientos, ya podemos entender cómo van a funcionar nuestras plantillas:</p>
			
			<p>Primero, en la plantilla <code>publicacionesLista</code> iteramos sobre un objeto <code>publicaciones</code> usando un bloque <code>{{#each}}…{{/each}}</code>, y para cada iteración (objeto), incluimos la plantilla <code>publicacionesObjeto</code>.</p>
			
			<p>Pero, ¿de dónde viene el objeto <code>publicaciones</code>?. Buena pregunta. Es un <em class="kd">ayudante de plantilla</em>, y puedes pensar en ellos como huecos donde llenaremos datos.</p>
			
			<p>La plantilla <code>publicacionesObjeto</code> es bastante sencilla. Solo usa tres expresiones: <code>{{url}}</code> y <code>{{titulo}}</code> devuelven propiedades del objeto que se está iterando, y <code>{{dominio}}</code> llama a un ayudante que más adelante será el resultado de una funcion.</p>
            
            <h3 id="men-adp">Ayudantes de plantillas</h3>
			
			<p>Hasta ahora hemos estado tratando con Spacebars (sistema de plantillas), que es poco más que HTML con algunas etiquetas extra. A diferencia de otros lenguajes como PHP (o páginas HTML con JavaScript), Meteor mantiene las plantillas y su lógica separadas, de forma que nuestras plantillas por sí mismas no hacen casi nada.</p>
			
			<p>Para que una plantilla tenga vida, necesita <em class="kd">ayudantes</em>. Puedes pensar en ellos como los cocineros que toman los ingredientes y los preparan, antes de entregar el plato terminado al camarero que finalmente los entrega al cliente que hablando en codigo sería que el ayudante toma los datos y los prepara antes de darse los a las plantillas que finalmente los deja en el html.</p>
			
			<p>En otras palabras, mientras la función de las plantillas es mostrar o iterar sobre variables, los ayudantes son los que hacen el trabajo pesado asignando un valor a cada variable.</p>
			
			<div class="note">
				<h3>¿Controladores?</h3>
				
				<p>Puede ser tentador pensar que los ficheros que contienen estos ayudantes son una especie de "controlador". Pero eso sería ambiguo, ya que los controladores (al menos en el sentido de controladores MVC) normalmente tienen un papel diferente.</p>
				
				<p>Así que hemos decido apartarnos de esa terminología, y simplemente nos referimos a <em>ayudantes de plantillas</em> o <em>lógica de plantilla</em> cuando hablamos del código JavaScript que acompaña a las plantillas.</p>
			</div>
			
			<p>Para mantener las cosas ordenadas, adoptaremos la convención de nombrar al fichero que contiene la plantilla con el mismo nombre, pero con la extensión <em class="kd">.js</em>. Así que vamos a crear un fichero <code>publicaciones_lista.js</code> dentro de <code>/client/plantillas/publicaciones</code> para construir nuestro primer ayudante:</p>
            
            <pre><span class="line"><span class="kd">var</span> publicacionesDatos = [</span><span class="line">  {</span><span class="line">    <span class="na">titulo</span>: <span class="s1">"Introducción a Telescopio"</span>,</span><span class="line">    <span class="na">url</span>   : <span class="s1">"http://www.sachagreif.com/introducing-telescope"</span></span><span class="line">  },{</span><span class="line">    <span class="na">titulo</span>: <span class="s1">"Meteor"</span>,</span><span class="line">    <span class="na">url</span>   : <span class="s1">"http://www.meteor.com"</span></span><span class="line">  },{</span><span class="line">    <span class="na">titulo</span>: <span class="s1">"El Libro de Meteor"</span>,</span><span class="line">    <span class="na">url</span>   : <span class="s1">"http://www.themeteorbook.com"</span></span><span class="line">  }</span><span class="line">];</span>
<span class="line">Template.publicacionesLista.helpers({</span><span class="line">  <span class="na">publicaciones</span>: publicacionesDatos</span><span class="line">});</span></pre>
            <div class="caption">/client/plantillas/publicaciones/publicaciones_lista.js</div>
            
            <p>Si todo está bien, ya se pueden ver los datos en el navegador:</p>
            
            <figure class="screenshot "><img src="./Plantillas_files/3-1.png" alt="Nuestra primera plantilla con datos estáticos"><figcaption>Nuestra primera plantilla con datos estáticos</figcaption></figure>
			
			<p>Estamos haciendo dos cosas. Primero, creamos algunos datos prototipo en <code>publicacionesDatos</code>. Normalmente, estos datos vienen de la base de datos, pero como no hemos visto cómo hacerlo todavía (espera al siguiente capítulo), hacemos trampa mediante el uso de datos estáticos.</p>
			
			<p>Segundo, usamos la función <code>Template.publicacionesLista.helpers()</code> para definir un ayudante de plantilla llamado <code>publicaciones</code> que, sencillamente devuelve nuestros datos creados de <code>publicacionesDatos</code>.</p>
			
			<p>Y si recuerdas, estamos usando el ayudante <code>publicaciones</code> en nuestra plantilla <code>publicacionesLista</code>:</p>
			
			<pre><span class="line"><span class="nt">&lt;template</span> <span class="na">name</span>=<span class="s1">"publicacionesLista"</span><span class="nt">&gt;</span></span><span class="line">  <span class="nt">&lt;div</span> <span class="na">class</span>=<span class="s1">"publicaciones page"</span><span class="nt">&gt;</span></span><span class="line">    {{#each publicaciones}}</span><span class="line">      {{&gt; publicacionesObjeto}}</span><span class="line">    {{/each}}</span><span class="line nt">  &lt;/div&gt;</span><span class="line nt">&lt;/template&gt;</span></pre>
			<div class="caption">/client/plantillas/publicaciones/publicaciones_lista.html</div>
			
			<p>Al definir el ayudante <code>publicaciones</code>, conseguimos que esté disponible para usarlo en la plantilla, así que nuestra plantilla será capaz de recorrer el array <code>publicacionesDatos</code> pasando la plantilla <code>publicacionesObjeto</code> para cada uno de sus elementos.</p>
            
            <h3 id="men-ead">El ayudante <code>dominio</code></h3>
			
			<p>De forma similar, crearemos un fichero <code>publicaciones_objeto.js</code> para albergar la lógica de la plantilla <code>publicacionesObjeto</code>:</p>
			
            <pre><span class="line">Template.publicacionesObjeto.helpers({</span><span class="line">  <span class="s1">"dominio"</span>: <span class="kd">function</span>(){</span><span class="line">    <span class="kd">var</span> a = <span class="nb">document</span>.createElement(<span class="s1">"a"</span>);</span><span class="line">    a.href = <span class="kd">this</span>.url;</span>
<span class="line c1">    // Si tiene las www se las quita</span><span class="line">    <span class="kd">return</span> (a.hostname.substr(<span class="nb">0</span>,<span class="nb">4</span>) == <span class="s1">"www."</span>)</span><span class="line">      ? a.hostname.substr(<span class="nb">4</span>)</span><span class="line">      : a.hostname</span><span class="line">    ;</span><span class="line">  }</span><span class="line">});</span></pre>
            <div class="caption">/client/plantillas/publicaciones/publicaciones_objeto.js</div>
			
			<p>Esta vez el valor de nuestro ayudante <code>dominio</code>, no son datos sino un resultado de una función anónima. Este patrón es mucho más común (y más útil) en comparación con nuestros ejemplos de datos ficticios.</p>
            
            <figure class="screenshot "><img src="./Plantillas_files/3-2.png" alt="Mostrando el dominio para cada enlace."><figcaption>Mostrando el dominio para cada enlace.</figcaption></figure>
            
			<p>El ayudante <code>dominio</code> coge una URL y devuelve su dominio a través de un poco de magia JavaScript. Pero, ¿de dónde saca esa url la primera vez?.</p>
			
			<p>Para responder a esta pregunta tenemos que volver a nuestra plantilla <code>publicaciones_lista.html</code>. El bloque <code>{{#each}}</code> no solo itera nuestros datos, sino que también <em class="kd">establece el valor de <code><span class="kd">this</span></code> dentro del bloque al objeto siendo iterado</em>.</p>
			
			<p>Esto significa que entre las dos etiquetas <code>{{each}}</code>, el valor de <code><span class="kd">this</span></code> es asignado a cada <code>publicacion</code> sucesivamente, y esto se hace extensivo al gestor de la plantilla (<code>publicaciones_objeto.js</code>).</p>
			
			<p>Ahora entendemos porqué <code><span class="kd">this</span>.url</code> devuelve la URL del post actual. Y más aún, como utilizamos <code>{{titulo}}</code> y <code>{{url}}</code> dentro de nuestra plantilla <code>publicaciones_objeto.html</code>, Meteor sabe que lo que queremos es <code><span class="kd">this</span>.titulo</code> y <code><span class="kd">this</span>.url</code> y devuelve los valores correctos.</p>
			
			<div class="note">
				<h3>Magia JavaScript</h3>
				
				<p>Aunque esto no es específico de Meteor, he aquí una breve explicación de la <em>magia de JavaScript</em>. En primer lugar, estamos creando un elemento HTML ancla (<code>a</code>) vacío y lo almacenamos en la memoria.</p>
				
				<p>A continuación, establecemos el atributo <code>href</code> para que sea igual a la URL del post actual (como acabamos de ver, en un ayudante, <code><span class="kd">this</span></code> es el objeto que se está usando en este momento).</p>
				
				<p>Por último, aprovechamos de la propiedad <code>hostname</code> del elemento <code>a</code> para devolver el nombre de dominio del post sin el resto de la URL.</p>
			</div>
			
			<p>Si todo ha ido bien deberíamos ver una lista de publicaciones en el navegador. Esta lista son solo datos estáticos, lo que, por el momento, no nos permite aprovechar las características de tiempo real de Meteor. ¡Aprenderemos cómo hacerlo en el próximo capítulo!</p>
			
			<div class="note">
				<h3>Recarga automática</h3>
				
				<p>Probablemente ya habrás notado que no es necesario recargar la ventana del navegador cada vez que cambiamos un archivo de código.</p>
				
				<p>Esto se debe a que Meteor hace un seguimiento de todos los archivos en el directorio del proyecto, y los actualiza automáticamente en el navegador cada vez que detecta un cambio en alguno de ellos.</p>
				
				<p>La recarga automática es bastante inteligente, ya que incluso, ¡conserva el estado de la aplicación entre dos refrescos!</p>
			</div>
          </div>
          <div class="bottom-nav">
            <div class="post-nav">
              <a class="prev" href="http://es.discovermeteor.com/chapters/deploying/" title="Previous Post: Despliegue">
                «
                Despliegue
              </a>
              <a class="next" href="http://es.discovermeteor.com/chapters/github/" title="next Post: Usando Git y GitHub">
                Usando Git y GitHub
                »
              </a>
            </div>
          </div>
        </div>
        <div class="comments sidebar">
          <a class="sidebar-toggle" data-disqus-identifier="templates_es" href="http://es.discovermeteor.com/chapters/templates/#disqus_thread">9 Comments</a>
          <div class="sidebar-inner">
            <div class="issues">
              <a class="issue-link simple-button" href="https://github.com/DiscoverMeteor/Microscope/issues" target="_blank">Reporta un problema con el código</a>
              <a class="issue-link simple-button" href="https://github.com/DiscoverMeteor/DiscoverMeteor_es/issues" target="_blank">Reporta un problema con el libro</a>
              <hr>
              <p>O, comenta el contenido aquí:</p>
            </div>
            <div id="disqus_thread"><iframe id="dsq-app257" name="dsq-app257" allowtransparency="true" frameborder="0" scrolling="no" tabindex="0" title="Disqus" width="100%" src="./Plantillas_files/saved_resource.html" style="width: 1px !important; min-width: 100% !important; border: none !important; overflow: hidden !important; height: 1699px !important;" horizontalscrolling="no" verticalscrolling="no"></iframe></div>
            <script type="text/javascript">
                /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
                var disqus_shortname = 'discovermeteores'; // required: replace example with your forum shortname
                var disqus_identifier = 'templates_es';
            
                /* * * DON'T EDIT BELOW THIS LINE * * */
                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
            
                /* * * DON'T EDIT BELOW THIS LINE * * */
                (function () {
                var s = document.createElement('script'); s.async = true;
                s.type = 'text/javascript';
                s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
                (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
                }());
            
            </script>
          </div>
        </div>
      </div>
    </div>
    <footer>
      <div class="row">
        © 2014 <a href="http://tom.thesnail.org/">Tom Coleman</a> y <a href="http://sachagreif.com/">Sacha Greif</a>
      </div>
    </footer>
    <!-- %script{:src => "https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.5.2/underscore-min.js"} -->
    <script src="./Plantillas_files/moment.min.js.descarga"></script>
    <script src="./Plantillas_files/es.js.descarga"></script>
    <script src="./Plantillas_files/script.js.descarga"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      
      ga('create', 'UA-38246482-5', 'discovermeteor.com');
      ga('send', 'pageview');
    </script>
    <input id="lang" type="hidden" value="es">
  

<iframe style="display: none;" src="./Plantillas_files/saved_resource(1).html"></iframe></body></html>